import{o as r,c,a as o,b as v,t as u,n as y,r as g,w as x,v as I,F as S,d as A,e as w,$ as N,f as P,g as D,h as j,i as C,j as k,k as F}from"./vendor.175af184.js";const U=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}};U();var H="data:image/png;base64,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";var p=(t,n)=>{for(const[s,a]of n)t[s]=a;return t};const J={data(){return{}}},V={id:"header",class:"header"},Y=o("img",{src:H,style:{padding:"4px","margin-right":"10px",height:"32px",float:"left"}},null,-1),Q=o("span",{style:{float:"left"}},"Arknights Story Text Reader",-1),G=o("span",{style:{"font-size":"medium","font-weight":"normal",float:"right","text-align":"right","margin-right":"20px"}},[o("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader/blob/master/reader/CHANGELOG.md",style:{"font-weight":"bold","text-decoration":"underline"}},"wv0.9"),o("br"),v(" by nightsky#3319 on "),o("a",{href:"https://discord.gg/rihq",style:{"font-weight":"bold","text-decoration":"underline"}},"RIHQ")],-1),W=[Y,Q,G];function q(t,n,s,a,e,i){return r(),c("div",V,W)}var Z=p(J,[["render",q]]),R=new URLSearchParams(window.location.search),B=R.get("l"),L=window.localStorage.getItem("doctor"),K=window.localStorage.getItem("hidetip"),M=window.localStorage.getItem("showDelay"),z=window.localStorage.getItem("hideName"),X=R.get("f"),$={eventName:"Loading..."};B||(B="zh_CN");L||(L="{@nickname}");K||(K=!1);M||(M="y");z||(z="n");var d={urlParams:R,l:B,doctor:L,hidetip:K,showDelay:M,hideName:z,storyFile:X,storyData:$,parseContent(t){if(t){const n=/<color=([\w#]+)>(.+?)<\/color>/gm,s='<span style="color:$1">$2</span>';t=t.replaceAll("{@nickname}",this.doctor),t=t.replaceAll("\\n","<br/>"),t=t.replace(n,s)}return t},focus(){var t=document.getElementsByClassName("storyFocused")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"}),console.log("focused!")}};const ee={props:["story"],emits:["hidemenu","focusstory","unfoldevent"],data(){return{focused:!1,lang:d.l}},mounted(){d.storyFile==this.story.storyTxt&&(this.focused=!0,this.$emit("unfoldevent"))},methods:{loadStory(t,n){var s="l="+t;s=s+"&f="+n,window.location.search=s}}},te=["id"],ne={class:"storycode"},oe={class:"storyname"};function se(t,n,s,a,e,i){return r(),c("div",{class:y({story:!0,storyFocused:e.focused}),id:s.story.storyId,onClick:n[0]||(n[0]=l=>i.loadStory(e.lang,s.story.storyTxt))},[o("div",ne,u(s.story.storyCode)+" "+u(s.story.avgTag),1),o("div",oe,u(s.story.storyName),1)],10,te)}var ie=p(ee,[["render",se]]);const re={props:["event","eventid"],emits:["hidemenu","focusStory"],data(){return{collapsed:!0}},components:{Storymenu:ie}},le={class:"event"},ae={class:"stories"};function ce(t,n,s,a,e,i){const l=g("Storymenu");return r(),c("div",le,[o("div",{class:y({eventname:!0,eventnamehl:!e.collapsed}),onClick:n[0]||(n[0]=h=>e.collapsed=!e.collapsed)},u(s.event.name),3),x(o("div",ae,[(r(!0),c(S,null,A(s.event.infoUnlockDatas,(h,m)=>(r(),w(l,{story:h,onUnfoldevent:n[1]||(n[1]=f=>{e.collapsed=!1,t.$emit("focusStory")}),key:m},null,8,["story"]))),128))],512),[[I,!e.collapsed]])])}var de=p(re,[["render",ce]]);const ue={zh_CN:"\u7B80\u4E2D",en_US:"English",ja_JP:"\u65E5\u672C\u8A9E",ko_KR:"\uD55C\uAD6D\uC5B4",zh_TW:"\u7E41\u4E2D"},he={zh_CN:"\u5F53\u524D\u8BED\u8A00",en_US:"Current Language",ja_JP:"\u73FE\u5728\u306E\u8A00\u8A9E",ko_KR:"\uD604\uC7AC \uC5B8\uC5B4",zh_TW:"\u7576\u524D\u8A9E\u8A00"},_e={zh_CN:"\u8BF7\u4ECE\u76EE\u5F55\u4E2D\u9009\u62E9\u6545\u4E8B\u67E5\u770B",en_US:"Select the story you wanna view from the menu",ja_JP:"Select the story you wanna view from the menu",ko_KR:"Select the story you wanna view from the menu",zh_TW:"\u8ACB\u5F9E\u76EE\u9304\u4E2D\u9078\u64C7\u6545\u4E8B\u67E5\u770B"},pe={zh_CN:"\u4E3B\u9898\u66F2",en_US:"Maintheme",ja_JP:"Maintheme",ko_KR:"Maintheme",zh_TW:"\u4E3B\u9898\u66F2"},me={zh_CN:"\u522B\u4F20",en_US:"Sidestory",ja_JP:"Sidestory",ko_KR:"Sidestory",zh_TW:"\u522B\u4F20"},ge={zh_CN:"\u6545\u4E8B\u96C6",en_US:"Storyset",ja_JP:"Storyset",ko_KR:"Storyset",zh_TW:"\u6545\u4E8B\u96C6"},ye={zh_CN:"\u5E72\u5458\u5BC6\u5F55",en_US:"Operators' Records",ja_JP:"Operators' Records",ko_KR:"Operators' Records",zh_TW:"\u5E79\u54E1\u5BC6\u9304"},ve={zh_CN:"\u8BBE\u7F6E",en_US:"Settings",ja_JP:"Settings",ko_KR:"Settings",zh_TW:"\u8BBE\u7F6E"},fe={zh_CN:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E",en_US:"Reset All Settings",ja_JP:"Reset All Settings",ko_KR:"Reset All Settings",zh_TW:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E"},we={zh_CN:"\u535A\u58EB\u79F0\u547C",en_US:"Doctor's Name",ja_JP:"\u30C9\u30AF\u30BF\u30FC\u306E\u540D\u524D",ko_KR:"Doctor's Name",zh_TW:"\u535A\u58EB\u7A31\u547C"},be={zh_CN:"\u663E\u793A\u7A7A\u767D\u5206\u5272\u884C",en_US:"Show Blank Seperation Line",ja_JP:"Show Blank Seperation Line",ko_KR:"Show Blank Seperation Line",zh_TW:"\u986F\u793A\u7A7A\u767D\u5206\u5272\u884C"},Se={zh_CN:"\u9690\u85CF\u91CD\u590D\u4EBA\u540D",en_US:"Hide Duplicate Names",ja_JP:"Hide Duplicate Names",ko_KR:"Hide Duplicate Names",zh_TW:"\u96B1\u85CF\u91CD\u8907\u4EBA\u540D"},Ce={zh_CN:"\u5E94\u7528\u8BBE\u7F6E",en_US:"Apply Setting",ja_JP:"Apply Setting",ko_KR:"Apply Setting",zh_TW:"\u5E94\u7528\u8BBE\u7F6E"};var E={langs:ue,currentLang:he,selectStory:_e,main:pe,ss:me,mini:ge,or:ye,setting:ve,clear:fe,dr:we,showDelay:be,hideName:Se,save:Ce};const xe={data(){return{data:{},chardict:{},eventList:{},lang:d.l,i18n:E,showMenu:!0}},created(){N.getJSON("https://raw.githubusercontent.com/Kengxxiao/ArknightsGameData/master/"+this.lang+"/gamedata/excel/story_review_table.json").done(t=>{this.data=t,N.getJSON("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/chardict.json").done(n=>{this.chardict=n,this.eventList=this.getEventList(this.data,this.chardict)})})},methods:{langSwitch(t){var n="l="+t;window.location.search=n},getEventList(t,n){var s={main:[],ss:[],mini:[],or:[]},a;for(a in t)if(t[a].entryType=="MAINLINE")s.main.push(t[a]);else if(t[a].entryType=="ACTIVITY")s.ss.push(t[a]);else if(t[a].entryType=="MINI_ACTIVITY")s.mini.push(t[a]);else if(t[a].entryType=="NONE"){var e=a.split("_")[1],i=a.split("_")[3];t[a].name=n[e]+" - "+i,s.or.push(t[a])}return s.ss.sort(function(l,h){return l.startTime-h.startTime}),s.mini.sort(function(l,h){return l.startTime-h.startTime}),s},focusStory(){d.focus()}},components:{Eventmenu:de}},Ae={id:"sidebar"},ke={id:"currentLang",class:"currentLang"},Ne={id:"langSelect",class:"langSelect"},Ee=["onClick"],Te=["id"],Ie={class:"eventtype"};function Re(t,n,s,a,e,i){const l=g("Eventmenu");return r(),c("div",Ae,[o("div",{class:y({menuButton:!0,"material-icons":!0,menuButtonR:e.showMenu}),onClick:n[0]||(n[0]=h=>{e.showMenu=!e.showMenu})},"chevron_right",2),o("div",{class:y({sidebar:!0,sidebarhidden:!e.showMenu})},[o("div",ke,[v(u(e.i18n.currentLang[e.lang])+": "+u(e.i18n.langs[e.lang])+" ",1),o("div",Ne,[(r(!0),c(S,null,A(e.i18n.langs,(h,m,f)=>(r(),c("div",{onClick:b=>i.langSwitch(m),key:f},u(h),9,Ee))),128))])]),(r(!0),c(S,null,A(e.eventList,(h,m,f)=>(r(),c("div",{class:"eventType",id:m,key:f},[o("div",Ie,u(e.i18n[m][e.lang]),1),(r(!0),c(S,null,A(h,(b,T)=>(r(),w(l,{class:"event",id:b.id,event:b,lang:e.lang,onHidemenu:n[1]||(n[1]=_=>e.showMenu=!1),key:T},null,8,["id","event","lang"]))),128))],8,Te))),128))],2)])}var Be=p(xe,[["render",Re]]);const Le={data(){return{doctor:d.doctor,i18n:E,lang:d.l,show:this.doctor=="{@nickname}",hidetip:d.hidetip,showDelay:d.showDelay,hideName:d.hideName}},methods:{save(){window.localStorage.setItem("doctor",this.doctor),window.localStorage.setItem("showDelay",this.showDelay),window.localStorage.setItem("hideName",this.hideName),window.location.href=window.location.href},clearSetting(){window.localStorage.clear(),window.location.href=window.location.href},hide(){this.hidetip=!0,window.localStorage.setItem("hidetip",!0)},getJSONFile(){return"https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/gamedata/story/"+d.storyFile+".json"},getUserAgent(){return window.navigator.userAgent},getWidth(){return N(window).width()}}},Ke={id:"setting"},Me={class:"warmtip",style:{"background-color":"rgb(255, 255, 0)",color:"#000",padding:"5px"}},ze=o("span",{style:{float:"left","margin-left":"20px"}},[v("If you like this project, please give me a star "),o("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader",style:{color:"rgb(32, 32, 184)"}},"here"),v("!"),o("br"),v("If you have any issues or feedbacks please summit them "),o("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader/issues",style:{color:"rgb(32, 32, 184)"}},"here"),v(".")],-1),De=o("div",{style:{clear:"both"}},null,-1),je={class:"settingtitle"},Oe=o("span",{class:"material-icons clearbutton",style:{float:"right",padding:"4px"}},"delete",-1),Pe={class:"settingtitle",style:{float:"right","font-weight":"normal","font-size":"15px"}},Fe=o("div",{style:{clear:"both"}},null,-1),Ue={class:y({settingoptions:!0})},He={style:{float:"left"}},Je=o("div",{style:{clear:"both"}},null,-1),Ve={style:{float:"left"}},Ye=o("div",{style:{clear:"both"}},null,-1),Qe={style:{float:"left"}},Ge=o("div",{style:{clear:"both"}},null,-1),We={style:{float:"left","font-weight":"bold"}},qe=o("span",{class:"material-icons",style:{float:"left"}},"save_alt",-1),Ze=o("div",{style:{clear:"both"}},null,-1),Xe=o("span",{style:{"font-size":"10px","font-weight":"bold",color:"dimgray"}}," Developer Info/Options (Please attach these info with your issues) ",-1),$e={style:{"font-size":"5px",color:"dimgray"}},et=v(" Current JsonFile:"),tt=o("br",null,null,-1),nt=o("br",null,null,-1),ot=v(" Browser Info:"),st=o("br",null,null,-1),it=o("br",null,null,-1),rt=o("br",null,null,-1);function lt(t,n,s,a,e,i){return r(),c("div",Ke,[x(o("div",Me,[ze,o("span",{class:"material-icons",style:{float:"right"},onClick:n[0]||(n[0]=l=>i.hide())},"clear"),De],512),[[I,!e.hidetip]]),o("div",{class:y({setting:!0,settingshow:e.show})},[o("span",{class:y({"material-icons":!0}),onClick:n[1]||(n[1]=l=>e.show=!e.show),id:"settingbutton"}," settings "),o("span",je,u(e.i18n.setting[e.lang]),1),o("div",{class:"clear",onClick:n[2]||(n[2]=l=>i.clearSetting())},[Oe,o("span",Pe,u(e.i18n.clear[e.lang]),1)]),Fe,x(o("div",Ue,[o("span",He,u(e.i18n.dr[e.lang])+": ",1),x(o("input",{class:"textbox","onUpdate:modelValue":n[3]||(n[3]=l=>e.doctor=l),style:{float:"left"}},null,512),[[P,e.doctor]]),Je,o("span",Ve,u(e.i18n.showDelay[e.lang])+": ",1),x(o("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=l=>e.showDelay=l),"true-value":"y","false-value":"n",style:{float:"left"}},null,512),[[D,e.showDelay]]),Ye,o("span",Qe,u(e.i18n.hideName[e.lang])+"(beta): ",1),x(o("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":n[5]||(n[5]=l=>e.hideName=l),"true-value":"y","false-value":"n",style:{float:"left"}},null,512),[[D,e.hideName]]),Ge,o("div",{class:"save",onClick:n[6]||(n[6]=l=>i.save())},[o("span",We,u(e.i18n.save[e.lang]),1),qe,Ze]),Xe,o("div",$e,[et,tt,v(" "+u(i.getJSONFile()),1),nt,ot,st,v(" "+u(i.getUserAgent()),1),it,v(" Browser width: "+u(i.getWidth()),1),rt])],512),[[I,e.show]])],2)])}var at=p(Le,[["render",lt]]);const ct={data(){return{line:this.inputline,hideName:!1}},mounted(){this.hideName=this.isHideName()},props:{inputline:Object,story:Object,lidx:Number},methods:{parseContent(t){return d.parseContent(t)},isHideName(){if(this.lidx=="0"||d.hideName=="n"||!this.line)return!1;var t=this.story[this.lidx-1];return!!(t.prop=="name"&&t.attributes&&this.line.attributes&&(console.log(t),t.attributes.name==this.line.attributes.name))}}},dt={class:"textblock"},ut=["innerHTML"];function ht(t,n,s,a,e,i){return r(),c("div",dt,[o("div",{class:y({nameblock:!0,hideName:e.hideName})},u(e.line.attributes.name),3),o("div",{class:"contentblock",innerHTML:i.parseContent(e.line.attributes.content)},null,8,ut)])}var _t=p(ct,[["render",ht]]);const pt={data(){return{line:this.inputline}},props:{inputline:Object},methods:{parseContent(t){return d.parseContent(t)}}},mt=["innerHTML"];function gt(t,n,s,a,e,i){return r(),c("div",{class:y(e.line.prop),style:j({"text-align":e.line.attributes.alignment}),innerHTML:i.parseContent(e.line.attributes.text)},null,14,mt)}var yt=p(pt,[["render",gt]]);const vt={data(){return{line:this.inputline}},props:{inputline:Object},methods:{parseContent(t){return d.parseContent(t)},jumpTo(t){var n=document.getElementById(t);n.scrollIntoView({behavior:"smooth",block:"center"})},addClass(t,n){var s=document.getElementById(t);s.classList.add(n)},removeClass(t,n){var s=document.getElementById(t);s.classList.remove(n)}}},ft=["onClick","onMouseover","onMouseout","innerHTML"];function wt(t,n,s,a,e,i){return r(),c("div",{class:y(e.line.prop)},[(r(!0),c(S,null,A(e.line.attributes.values.split(";"),(l,h)=>(r(),c("div",{key:l,class:"option",onClick:m=>i.jumpTo(e.line.targetLine["option"+l]),onMouseover:m=>i.addClass(e.line.targetLine["option"+l],"PredicateFocused"),onMouseout:m=>i.removeClass(e.line.targetLine["option"+l],"PredicateFocused"),innerHTML:i.parseContent(e.line.attributes.options.split(";")[h])},null,40,ft))),128))],2)}var bt=p(vt,[["render",wt]]);const St={data(){return{line:this.inputline}},props:{inputline:Object}},Ct={key:0,class:"optText"};function xt(t,n,s,a,e,i){return r(),c("div",{class:y(e.line.prop)},[e.line.endOfOpt?C("",!0):(r(),c("div",Ct,"Options: "+u(e.line.attributes.references.replaceAll(";"," ")),1))],2)}var At=p(St,[["render",xt]]);const kt={data(){return{line:this.inputline}},props:{inputline:Object}};function Nt(t,n,s,a,e,i){return r(),c("div",{class:y(e.line.prop),style:j({height:e.line.attributes.time*30+"px"})},null,6)}var Et=p(kt,[["render",Nt]]);const Tt={data(){return{line:this.inputline}},props:{inputline:Object}},It=["src"];function Rt(t,n,s,a,e,i){return r(),c("img",{class:"Image",src:"https://aceship.github.io/AN-EN-Tags/img/avg/images/"+e.line.attributes.image+".png"},null,8,It)}var Bt=p(Tt,[["render",Rt]]);const Lt={data(){return{data:d.storyData,path:d.storyFile,lang:d.l,doctor:d.doctor,i18n:E,showDelay:d.showDelay}},created(){this.path?N.getJSON("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/gamedata/story/"+this.path+".json").done(t=>this.data=t).fail(t=>{this.data={eventName:"Error on loading json file: "+this.path+"! If this is a new story, please contact the developer in github issue or discord to update the database."}}):this.data={eventName:"< - "+E.selectStory[this.lang]}},updated(){if(d.urlParams.get("warp")){var t=document.getElementById(d.urlParams.get("warp"));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.setProperty("background-color","#f4433633"))}d.focus()},methods:{jumpTo(t){var n=document.getElementById(t);n.scrollIntoView({behavior:"smooth",block:"center"})},changeColor(t,n){var s=document.getElementById(t);setInterval(s.style.setProperty("background-color",n),500)},getURL(t,n,s){return"?l="+t+"&f="+n+"&warp=line"+s},parseContent(t){return d.parseContent(t)}},components:{Nameline:_t,Subtitle:yt,Decision:bt,Predicate:At,Delay:Et,Showimg:Bt}},Kt={id:"content"},Mt={class:"storydata",id:"storydata"},zt=["id"],Dt=["href"],jt=o("div",{style:{clear:"both"}},null,-1);function Ot(t,n,s,a,e,i){const l=g("Nameline"),h=g("Subtitle"),m=g("Decision"),f=g("Predicate"),b=g("Delay"),T=g("Showimg");return r(),c("div",Kt,[o("div",Mt,u(e.data.eventName)+" "+u(e.data.storyCode)+" "+u(e.data.avgTag)+" "+u(e.data.storyName),1),(r(!0),c(S,null,A(e.data.storyList,(_,O)=>(r(),c("div",{key:_.id,class:"line",id:"line"+_.id},[o("a",{href:i.getURL(e.lang,e.path,_.id),class:"linkButton material-icons"},"link",8,Dt),_.prop=="name"?(r(),w(l,{key:0,inputline:_,lidx:O,story:e.data.storyList},null,8,["inputline","lidx","story"])):C("",!0),_.prop=="Subtitle"?(r(),w(h,{key:1,inputline:_},null,8,["inputline"])):C("",!0),_.prop=="Decision"?(r(),w(m,{key:2,inputline:_},null,8,["inputline"])):C("",!0),_.prop=="Predicate"?(r(),w(f,{key:3,inputline:_},null,8,["inputline"])):C("",!0),_.prop=="Delay"&&e.showDelay=="y"?(r(),w(b,{key:4,inputline:_},null,8,["inputline"])):C("",!0),_.prop=="Image"&&_.attributes.image?(r(),w(T,{key:5,inputline:_},null,8,["inputline"])):C("",!0),jt],8,zt))),128))])}var Pt=p(Lt,[["render",Ot]]);const Ft={methods:{scrollToTop(){document.getElementById("storydata").scrollIntoView({behavior:"smooth",block:"center"})}}};function Ut(t,n,s,a,e,i){return r(),c("span",{class:"material-icons topButton",onClick:n[0]||(n[0]=l=>i.scrollToTop())},"vertical_align_top")}var Ht=p(Ft,[["render",Ut]]);const Jt={data(){return{storyData:{},storyFile:[],lang:[]}},created(){fetch("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/zh_CN/gamedata/story/obt/guide/beg/0_welcome_to_guide.json").then(function(t){t.json()}).then(t=>{this.storyData=t,this.$forceUpdate(),console.log(this.storyData)})},components:{Header:Z,Menu:Be,Content:Pt,Settings:at,Topbtn:Ht},methods:{}};function Vt(t,n,s,a,e,i){const l=g("Header"),h=g("Menu"),m=g("Settings"),f=g("Content"),b=g("Topbtn");return r(),c(S,null,[k(l),k(h),k(m),k(f),k(b)],64)}var Yt=p(Jt,[["render",Vt]]);F(Yt).mount("#ASTR");console.log(d.urlParams.get("f"));
