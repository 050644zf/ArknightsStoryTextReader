import{o as r,c as u,a as s,b as v,t as d,n as y,r as m,w as x,v as I,F as C,d as k,e as f,$ as E,f as O,g as D,h as F,i as w,j as T,k as P}from"./vendor.175af184.js";const U=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}};U();var H="data:image/png;base64,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";var p=(t,n)=>{for(const[o,l]of n)t[o]=l;return t};const J={data(){return{}}},V={id:"header",class:"header"},Y=s("div",{style:{display:"flex","align-items":"center"}},[s("img",{src:H,style:{padding:"4px",margin:"4px",height:"80%"}}),s("span",{style:{display:"flex"}},"Arknights Story Text Reader")],-1),Q=s("span",{style:{"font-size":"medium","font-weight":"normal","text-align":"right","margin-right":"20px"}},[s("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader/blob/master/reader/CHANGELOG.md",style:{"font-weight":"bold","text-decoration":"underline"}},"wv0.9"),s("br"),v(" by nightsky#3319 on "),s("a",{href:"https://discord.gg/rihq",style:{"font-weight":"bold","text-decoration":"underline"}},"RIHQ")],-1),G=[Y,Q];function W(t,n,o,l,e,i){return r(),u("div",V,G)}var q=p(J,[["render",W]]),R=new URLSearchParams(window.location.search),B=R.get("l"),M=window.localStorage.getItem("doctor"),L=window.localStorage.getItem("hidetip"),K=window.localStorage.getItem("showDelay"),z=window.localStorage.getItem("hideName"),Z=R.get("f"),X={eventName:"Loading..."};B||(B="zh_CN");M||(M="{@nickname}");L||(L=!1);K||(K="y");z||(z="n");var c={urlParams:R,l:B,doctor:M,hidetip:L,showDelay:K,hideName:z,storyFile:Z,storyData:X,parseContent(t){if(t){const n=/<color=([\w#]+)>(.+?)<\/color>/gm,o='<span style="color:$1">$2</span>';t=t.replaceAll("{@nickname}",this.doctor),t=t.replaceAll("\\n","<br/>"),t=t.replace(n,o)}return t},focus(){var t=document.getElementsByClassName("storyFocused")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"}),console.log("focused!")}};const $={props:["story"],emits:["hidemenu","focusstory","unfoldevent"],data(){return{focused:!1,lang:c.l}},mounted(){c.storyFile==this.story.storyTxt&&(this.focused=!0,this.$emit("unfoldevent"))},methods:{loadStory(t,n){var o="l="+t;o=o+"&f="+n,window.location.search=o}}},ee=["id"],te={class:"storycode"},ne={class:"storyname"};function se(t,n,o,l,e,i){return r(),u("div",{class:y({story:!0,storyFocused:e.focused}),id:o.story.storyId,onClick:n[0]||(n[0]=a=>i.loadStory(e.lang,o.story.storyTxt))},[s("div",te,d(o.story.storyCode)+" "+d(o.story.avgTag),1),s("div",ne,d(o.story.storyName),1)],10,ee)}var oe=p($,[["render",se]]);const ie={props:["event","eventid"],emits:["hidemenu","focusStory"],data(){return{collapsed:!0}},components:{Storymenu:oe}},re={class:"event"},le={class:"stories"};function ae(t,n,o,l,e,i){const a=m("Storymenu");return r(),u("div",re,[s("div",{class:y({eventname:!0,eventnamehl:!e.collapsed}),onClick:n[0]||(n[0]=h=>e.collapsed=!e.collapsed)},d(o.event.name),3),x(s("div",le,[(r(!0),u(C,null,k(o.event.infoUnlockDatas,(h,g)=>(r(),f(a,{story:h,onUnfoldevent:n[1]||(n[1]=b=>{e.collapsed=!1,t.$emit("focusStory")}),key:g},null,8,["story"]))),128))],512),[[I,!e.collapsed]])])}var ce=p(ie,[["render",ae]]);const ue={zh_CN:"\u7B80\u4E2D",en_US:"English",ja_JP:"\u65E5\u672C\u8A9E",ko_KR:"\uD55C\uAD6D\uC5B4",zh_TW:"\u7E41\u4E2D"},de={zh_CN:"\u5F53\u524D\u8BED\u8A00",en_US:"Current Language",ja_JP:"\u73FE\u5728\u306E\u8A00\u8A9E",ko_KR:"\uD604\uC7AC \uC5B8\uC5B4",zh_TW:"\u7576\u524D\u8A9E\u8A00"},he={zh_CN:"\u8BF7\u4ECE\u76EE\u5F55\u4E2D\u9009\u62E9\u6545\u4E8B\u67E5\u770B",en_US:"Select the story you wanna view from the menu",ja_JP:"Select the story you wanna view from the menu",ko_KR:"Select the story you wanna view from the menu",zh_TW:"\u8ACB\u5F9E\u76EE\u9304\u4E2D\u9078\u64C7\u6545\u4E8B\u67E5\u770B"},_e={zh_CN:"\u4E3B\u9898\u66F2",en_US:"Maintheme",ja_JP:"Maintheme",ko_KR:"Maintheme",zh_TW:"\u4E3B\u9898\u66F2"},pe={zh_CN:"\u522B\u4F20",en_US:"Sidestory",ja_JP:"Sidestory",ko_KR:"Sidestory",zh_TW:"\u522B\u4F20"},me={zh_CN:"\u6545\u4E8B\u96C6",en_US:"Storyset",ja_JP:"Storyset",ko_KR:"Storyset",zh_TW:"\u6545\u4E8B\u96C6"},ge={zh_CN:"\u5E72\u5458\u5BC6\u5F55",en_US:"Operators' Records",ja_JP:"Operators' Records",ko_KR:"Operators' Records",zh_TW:"\u5E79\u54E1\u5BC6\u9304"},ye={zh_CN:"\u8BBE\u7F6E",en_US:"Settings",ja_JP:"Settings",ko_KR:"Settings",zh_TW:"\u8BBE\u7F6E"},ve={zh_CN:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E",en_US:"Reset All Settings",ja_JP:"Reset All Settings",ko_KR:"Reset All Settings",zh_TW:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E"},fe={zh_CN:"\u535A\u58EB\u79F0\u547C",en_US:"Doctor's Name",ja_JP:"\u30C9\u30AF\u30BF\u30FC\u306E\u540D\u524D",ko_KR:"Doctor's Name",zh_TW:"\u535A\u58EB\u7A31\u547C"},we={zh_CN:"\u663E\u793A\u7A7A\u767D\u5206\u5272\u884C",en_US:"Show Blank Seperation Line",ja_JP:"Show Blank Seperation Line",ko_KR:"Show Blank Seperation Line",zh_TW:"\u986F\u793A\u7A7A\u767D\u5206\u5272\u884C"},be={zh_CN:"\u9690\u85CF\u91CD\u590D\u4EBA\u540D",en_US:"Hide Duplicate Names",ja_JP:"Hide Duplicate Names",ko_KR:"Hide Duplicate Names",zh_TW:"\u96B1\u85CF\u91CD\u8907\u4EBA\u540D"},Se={zh_CN:"\u5E94\u7528\u8BBE\u7F6E",en_US:"Apply Setting",ja_JP:"Apply Setting",ko_KR:"Apply Setting",zh_TW:"\u5E94\u7528\u8BBE\u7F6E"};var N={langs:ue,currentLang:de,selectStory:he,main:_e,ss:pe,mini:me,or:ge,setting:ye,clear:ve,dr:fe,showDelay:we,hideName:be,save:Se};const Ce={data(){return{data:{},chardict:{},eventList:{},lang:c.l,i18n:N,showMenu:!0}},created(){E.getJSON("https://raw.githubusercontent.com/Kengxxiao/ArknightsGameData/master/"+this.lang+"/gamedata/excel/story_review_table.json").done(t=>{this.data=t,E.getJSON("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/chardict.json").done(n=>{this.chardict=n,this.eventList=this.getEventList(this.data,this.chardict)})})},mounted(){c.focus()},methods:{langSwitch(t){var n="l="+t;window.location.search=n},getEventList(t,n){var o={main:[],ss:[],mini:[],or:[]},l;for(l in t)if(t[l].entryType=="MAINLINE")o.main.push(t[l]);else if(t[l].entryType=="ACTIVITY")o.ss.push(t[l]);else if(t[l].entryType=="MINI_ACTIVITY")o.mini.push(t[l]);else if(t[l].entryType=="NONE"){var e=l.split("_")[1],i=l.split("_")[3];t[l].name=n[e]+" - "+i,o.or.push(t[l])}return o.ss.sort(function(a,h){return a.startTime-h.startTime}),o.mini.sort(function(a,h){return a.startTime-h.startTime}),o},focusStory(){c.focus()}},components:{Eventmenu:ce}},xe={id:"sidebar"},ke={id:"currentLang",class:"currentLang"},Ae={id:"langSelect",class:"langSelect"},Ne=["onClick"],Ee=["id"],Te={class:"eventtype"};function Ie(t,n,o,l,e,i){const a=m("Eventmenu");return r(),u("div",xe,[s("div",{class:y({menuButton:!0,"material-icons":!0,menuButtonR:e.showMenu}),onClick:n[0]||(n[0]=h=>{e.showMenu=!e.showMenu})},"chevron_right",2),s("div",{class:y({sidebar:!0,sidebarhidden:!e.showMenu})},[s("div",ke,[v(d(e.i18n.currentLang[e.lang])+": "+d(e.i18n.langs[e.lang])+" ",1),s("div",Ae,[(r(!0),u(C,null,k(e.i18n.langs,(h,g,b)=>(r(),u("div",{onClick:S=>i.langSwitch(g),key:b},d(h),9,Ne))),128))])]),(r(!0),u(C,null,k(e.eventList,(h,g,b)=>(r(),u("div",{class:"eventType",id:g,key:b},[s("div",Te,d(e.i18n[g][e.lang]),1),(r(!0),u(C,null,k(h,(S,A)=>(r(),f(a,{class:"event",id:S.id,event:S,lang:e.lang,onHidemenu:n[1]||(n[1]=_=>e.showMenu=!1),key:A},null,8,["id","event","lang"]))),128))],8,Ee))),128))],2)])}var Re=p(Ce,[["render",Ie]]);const Be={data(){return{doctor:c.doctor,i18n:N,lang:c.l,show:this.doctor=="{@nickname}",hidetip:c.hidetip,showDelay:c.showDelay,hideName:c.hideName}},methods:{save(){window.localStorage.setItem("doctor",this.doctor),window.localStorage.setItem("showDelay",this.showDelay),window.localStorage.setItem("hideName",this.hideName),window.location.href=window.location.href},clearSetting(){window.localStorage.clear(),window.location.href=window.location.href},hide(){this.hidetip=!0,window.localStorage.setItem("hidetip",!0)},getJSONFile(){return"https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/gamedata/story/"+c.storyFile+".json"},getUserAgent(){return window.navigator.userAgent},getWidth(){return E(window).width()}}},Me={id:"setting"},Le={class:"warmtip",style:{"background-color":"rgb(255, 255, 0)",color:"#000",padding:"5px"}},Ke=s("span",{style:{float:"left","margin-left":"20px"}},[v("If you like this project, please give me a star "),s("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader",style:{color:"rgb(32, 32, 184)"}},"here"),v("!"),s("br"),v("If you have any issues or feedbacks please summit them "),s("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader/issues",style:{color:"rgb(32, 32, 184)"}},"here"),v(".")],-1),ze=s("div",{style:{clear:"both"}},null,-1),De={class:"settingtitle"},Fe=s("span",{class:"material-icons clearbutton",style:{float:"right",padding:"4px"}},"delete",-1),je={class:"settingtitle",style:{float:"right","font-weight":"normal","font-size":"15px"}},Oe=s("div",{style:{clear:"both"}},null,-1),Pe={class:y({settingoptions:!0})},Ue={style:{float:"left"}},He=s("div",{style:{clear:"both"}},null,-1),Je={style:{float:"left"}},Ve=s("div",{style:{clear:"both"}},null,-1),Ye={style:{float:"left"}},Qe=s("div",{style:{clear:"both"}},null,-1),Ge={style:{float:"left","font-weight":"bold"}},We=s("span",{class:"material-icons",style:{float:"left"}},"save_alt",-1),qe=s("div",{style:{clear:"both"}},null,-1),Ze=s("span",{style:{"font-size":"10px","font-weight":"bold",color:"dimgray"}}," Developer Info/Options (Please attach these info with your issues) ",-1),Xe={style:{"font-size":"5px",color:"dimgray"}},$e=v(" Current JsonFile:"),et=s("br",null,null,-1),tt=s("br",null,null,-1),nt=v(" Browser Info:"),st=s("br",null,null,-1),ot=s("br",null,null,-1),it=s("br",null,null,-1);function rt(t,n,o,l,e,i){return r(),u("div",Me,[x(s("div",Le,[Ke,s("span",{class:"material-icons",style:{float:"right"},onClick:n[0]||(n[0]=a=>i.hide())},"clear"),ze],512),[[I,!e.hidetip]]),s("div",{class:y({setting:!0,settingshow:e.show})},[s("span",{class:y({"material-icons":!0}),onClick:n[1]||(n[1]=a=>e.show=!e.show),id:"settingbutton"}," settings "),s("span",De,d(e.i18n.setting[e.lang]),1),s("div",{class:"clear",onClick:n[2]||(n[2]=a=>i.clearSetting())},[Fe,s("span",je,d(e.i18n.clear[e.lang]),1)]),Oe,x(s("div",Pe,[s("span",Ue,d(e.i18n.dr[e.lang])+": ",1),x(s("input",{class:"textbox","onUpdate:modelValue":n[3]||(n[3]=a=>e.doctor=a),style:{float:"left"}},null,512),[[O,e.doctor]]),He,s("span",Je,d(e.i18n.showDelay[e.lang])+": ",1),x(s("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=a=>e.showDelay=a),"true-value":"y","false-value":"n",style:{float:"left"}},null,512),[[D,e.showDelay]]),Ve,s("span",Ye,d(e.i18n.hideName[e.lang])+"(beta): ",1),x(s("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":n[5]||(n[5]=a=>e.hideName=a),"true-value":"y","false-value":"n",style:{float:"left"}},null,512),[[D,e.hideName]]),Qe,s("div",{class:"save",onClick:n[6]||(n[6]=a=>i.save())},[s("span",Ge,d(e.i18n.save[e.lang]),1),We,qe]),Ze,s("div",Xe,[$e,et,v(" "+d(i.getJSONFile()),1),tt,nt,st,v(" "+d(i.getUserAgent()),1),ot,v(" Browser width: "+d(i.getWidth()),1),it])],512),[[I,e.show]])],2)])}var lt=p(Be,[["render",rt]]);const at={data(){return{line:this.inputline,hideName:!1}},mounted(){this.hideName=this.isHideName()},props:{inputline:Object,story:Object,lidx:Number},methods:{parseContent(t){return c.parseContent(t)},isHideName(){if(this.lidx=="0"||c.hideName=="n"||!this.line)return!1;var t=this.story[this.lidx-1];return!!(t.prop=="name"&&t.attributes&&this.line.attributes&&(console.log(t),t.attributes.name==this.line.attributes.name))}}},ct={class:"textblock"},ut=["innerHTML"];function dt(t,n,o,l,e,i){return r(),u("div",ct,[s("div",{class:y({nameblock:!0,hideName:e.hideName})},d(e.line.attributes.name),3),s("div",{class:"contentblock",innerHTML:i.parseContent(e.line.attributes.content)},null,8,ut)])}var ht=p(at,[["render",dt]]);const _t={data(){return{line:this.inputline}},props:{inputline:Object},methods:{parseContent(t){return c.parseContent(t)}}},pt=["innerHTML"];function mt(t,n,o,l,e,i){return r(),u("div",{class:y(e.line.prop),style:F({"text-align":e.line.attributes.alignment}),innerHTML:i.parseContent(e.line.attributes.text)},null,14,pt)}var gt=p(_t,[["render",mt]]);const yt={data(){return{line:this.inputline}},props:{inputline:Object},methods:{parseContent(t){return c.parseContent(t)},jumpTo(t){var n=document.getElementById(t);n.scrollIntoView({behavior:"smooth",block:"center"})},addClass(t,n){var o=document.getElementById(t);o.classList.add(n)},removeClass(t,n){var o=document.getElementById(t);o.classList.remove(n)}}},vt=["onClick","onMouseover","onMouseout","innerHTML"];function ft(t,n,o,l,e,i){return r(),u("div",{class:y(e.line.prop)},[(r(!0),u(C,null,k(e.line.attributes.values.split(";"),(a,h)=>(r(),u("div",{key:a,class:"option",onClick:g=>i.jumpTo(e.line.targetLine["option"+a]),onMouseover:g=>i.addClass(e.line.targetLine["option"+a],"PredicateFocused"),onMouseout:g=>i.removeClass(e.line.targetLine["option"+a],"PredicateFocused"),innerHTML:i.parseContent(e.line.attributes.options.split(";")[h])},null,40,vt))),128))],2)}var wt=p(yt,[["render",ft]]);const bt={data(){return{line:this.inputline}},props:{inputline:Object}},St={key:0,class:"optText"};function Ct(t,n,o,l,e,i){return r(),u("div",{class:y(e.line.prop)},[e.line.endOfOpt?w("",!0):(r(),u("div",St,"Options: "+d(e.line.attributes.references.replaceAll(";"," ")),1))],2)}var xt=p(bt,[["render",Ct]]);const kt={data(){return{line:this.inputline}},props:{inputline:Object}};function At(t,n,o,l,e,i){return r(),u("div",{class:y(e.line.prop),style:F({height:e.line.attributes.time*30+"px"})},null,6)}var Nt=p(kt,[["render",At]]);const Et={data(){return{line:this.inputline}},props:{inputline:Object}},Tt=["src"];function It(t,n,o,l,e,i){return r(),u("img",{class:"Image",src:"https://aceship.github.io/AN-EN-Tags/img/avg/images/"+e.line.attributes.image+".png"},null,8,Tt)}var Rt=p(Et,[["render",It]]);const Bt={data(){return{data:c.storyData,path:c.storyFile,lang:c.l,doctor:c.doctor,i18n:N,showDelay:c.showDelay}},created(){this.path?E.getJSON("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/gamedata/story/"+this.path+".json").done(t=>this.data=t).fail(t=>{this.data={eventName:"Error on loading json file: "+this.path+"! If this is a new story, please contact the developer in github issue or discord to update the database."}}):this.data={eventName:"< - "+N.selectStory[this.lang]}},updated(){if(c.urlParams.get("warp")){var t=document.getElementById(c.urlParams.get("warp"));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.setProperty("background-color","#f4433633"))}c.focus()},methods:{jumpTo(t){var n=document.getElementById(t);n.scrollIntoView({behavior:"smooth",block:"center"})},changeColor(t,n){var o=document.getElementById(t);setInterval(o.style.setProperty("background-color",n),500)},getURL(t,n,o){return"?l="+t+"&f="+n+"&warp=line"+o},parseContent(t){return c.parseContent(t)}},components:{Nameline:ht,Subtitle:gt,Decision:wt,Predicate:xt,Delay:Nt,Showimg:Rt}},Mt={id:"content"},Lt={class:"storydata",id:"storydata"},Kt=["id"],zt=["href"],Dt=s("div",{style:{clear:"both"}},null,-1);function Ft(t,n,o,l,e,i){const a=m("Nameline"),h=m("Subtitle"),g=m("Decision"),b=m("Predicate"),S=m("Delay"),A=m("Showimg");return r(),u("div",Mt,[s("div",Lt,d(e.data.eventName)+" "+d(e.data.storyCode)+" "+d(e.data.avgTag)+" "+d(e.data.storyName),1),(r(!0),u(C,null,k(e.data.storyList,(_,j)=>(r(),u("div",{key:_.id,class:"line",id:"line"+_.id},[s("a",{href:i.getURL(e.lang,e.path,_.id),class:"linkButton material-icons"},"link",8,zt),_.prop=="name"?(r(),f(a,{key:0,inputline:_,lidx:j,story:e.data.storyList},null,8,["inputline","lidx","story"])):w("",!0),_.prop=="Subtitle"?(r(),f(h,{key:1,inputline:_},null,8,["inputline"])):w("",!0),_.prop=="Decision"?(r(),f(g,{key:2,inputline:_},null,8,["inputline"])):w("",!0),_.prop=="Predicate"?(r(),f(b,{key:3,inputline:_},null,8,["inputline"])):w("",!0),_.prop=="Delay"&&e.showDelay=="y"?(r(),f(S,{key:4,inputline:_},null,8,["inputline"])):w("",!0),_.prop=="Image"&&_.attributes.image?(r(),f(A,{key:5,inputline:_},null,8,["inputline"])):w("",!0),Dt],8,Kt))),128))])}var jt=p(Bt,[["render",Ft]]);const Ot={methods:{scrollToTop(){document.getElementById("storydata").scrollIntoView({behavior:"smooth",block:"center"})}}};function Pt(t,n,o,l,e,i){return r(),u("span",{class:"material-icons topButton",onClick:n[0]||(n[0]=a=>i.scrollToTop())},"vertical_align_top")}var Ut=p(Ot,[["render",Pt]]);const Ht={data(){return{i18n:N,lang:c.l}}},Jt={class:"menupage"},Vt=s("span",{class:"material-icons"}," arrow_back ",-1),Yt={style:{"margin-left":"5px"}};function Qt(t,n,o,l,e,i){return r(),u("div",Jt,[Vt,s("span",Yt,d(e.i18n.selectStory[e.lang]),1)])}var Gt=p(Ht,[["render",Qt]]);const Wt={data(){return{storyData:{},storyFile:c.storyFile,lang:c.lang}},created(){fetch("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/zh_CN/gamedata/story/obt/guide/beg/0_welcome_to_guide.json").then(function(t){t.json()}).then(t=>{this.storyData=t,this.$forceUpdate(),console.log(this.storyData)})},components:{Header:q,Menu:Re,Content:jt,Settings:lt,Topbtn:Ut,Menupage:Gt},methods:{}};function qt(t,n,o,l,e,i){const a=m("Header"),h=m("Menu"),g=m("Settings"),b=m("Menupage"),S=m("Content"),A=m("Topbtn");return r(),u(C,null,[T(a),T(h),T(g),e.storyFile?w("",!0):(r(),f(b,{key:0})),e.storyFile?(r(),f(S,{key:1})):w("",!0),T(A)],64)}var Zt=p(Wt,[["render",qt]]);P(Zt).mount("#ASTR");console.log(c.urlParams.get("f"));
