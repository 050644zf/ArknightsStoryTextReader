import{o as i,c as u,a as s,b as v,t as d,n as y,r as m,w as C,v as T,F as x,d as A,e as f,$ as I,f as U,g as J,h as P,i as j,j as S,k as L,l as V}from"./vendor.006e7507.js";const H=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}};H();var Y="data:image/png;base64,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";var p=(t,n)=>{for(const[o,c]of n)t[o]=c;return t};const Q={data(){return{}}},G={id:"header",class:"header"},W=s("div",{style:{display:"flex","align-items":"center"}},[s("img",{src:Y,style:{padding:"4px",margin:"4px",height:"80%"}}),s("span",{style:{display:"flex"}},"Arknights Story Text Reader")],-1),q=s("span",{style:{"font-size":"medium","font-weight":"normal","text-align":"right","margin-right":"20px"}},[s("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader/blob/master/reader/CHANGELOG.md",style:{"font-weight":"bold","text-decoration":"underline"}},"wv0.9"),s("br"),v(" by nightsky#3319 on "),s("a",{href:"https://discord.gg/rihq",style:{"font-weight":"bold","text-decoration":"underline"}},"RIHQ")],-1),Z=[W,q];function X(t,n,o,c,e,r){return i(),u("div",G,Z)}var $=p(Q,[["render",X]]);const F=["zh_CN","en_US","ko_KR","ja_JP","zh_TW","Default"];var R=new URLSearchParams(window.location.search),B=R.get("s"),w=window.localStorage.getItem("lang"),M=window.localStorage.getItem("doctor"),K=window.localStorage.getItem("hidetip"),z=window.localStorage.getItem("showDelay"),D=window.localStorage.getItem("hideName"),ee=R.get("f"),te={eventName:"Loading..."};B||(B="zh_CN");(!w||w=="none"||w=="Default")&&(w=navigator.language.replace("-","_"));w=="ja"&&(w="ja_JP");F.indexOf(w)==-1&&(w="en_US");console.log("Current Language: "+w);M||(M="{@nickname}");K||(K=!1);z||(z="y");D||(D="n");var a={urlParams:R,l:w,langList:F,server:B,doctor:M,hidetip:K,showDelay:z,hideName:D,storyFile:ee,storyData:te,parseContent(t){if(t){const n=/<color=([\w#]+)>(.+?)<\/color>/gm,o='<span style="color:$1">$2</span>';t=t.replaceAll("{@nickname}",this.doctor),t=t.replaceAll("\\n","<br/>"),t=t.replace(n,o)}return t},focus(){var t=document.getElementsByClassName("storyFocused")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"}),console.log("focused!")}};const ne={props:["story"],emits:["hidemenu","focusstory","unfoldevent"],data(){return{focused:!1,lang:a.l}},mounted(){a.storyFile==this.story.storyTxt&&(this.focused=!0,this.$emit("unfoldevent"))},methods:{loadStory(t,n){var o="l="+t;o=o+"&f="+n,window.location.search=o}}},se=["id"],oe={class:"storycode"},re={class:"storyname"};function ie(t,n,o,c,e,r){return i(),u("div",{class:y({story:!0,storyFocused:e.focused}),id:o.story.storyId,onClick:n[0]||(n[0]=l=>r.loadStory(e.lang,o.story.storyTxt))},[s("div",oe,d(o.story.storyCode)+" "+d(o.story.avgTag),1),s("div",re,d(o.story.storyName),1)],10,se)}var le=p(ne,[["render",ie]]);const ae={props:["event","eventid"],emits:["hidemenu","focusStory"],data(){return{collapsed:!0}},components:{Storymenu:le}},ce={class:"event"},ue={class:"stories"};function de(t,n,o,c,e,r){const l=m("Storymenu");return i(),u("div",ce,[s("div",{class:y({eventname:!0,eventnamehl:!e.collapsed}),onClick:n[0]||(n[0]=h=>e.collapsed=!e.collapsed)},d(o.event.name),3),C(s("div",ue,[(i(!0),u(x,null,A(o.event.infoUnlockDatas,(h,g)=>(i(),f(l,{story:h,onUnfoldevent:n[1]||(n[1]=b=>{e.collapsed=!1,t.$emit("focusStory")}),key:g},null,8,["story"]))),128))],512),[[T,!e.collapsed]])])}var he=p(ae,[["render",de]]);const _e={zh_CN:"\u7B80\u4E2D\u670D(CN)",en_US:"Global Server(EN)",ja_JP:"\u65E5\u672C\u30B5\u30FC\u30D0\u30FC(JP)",ko_KR:"\uD55C\uAD6D \uC11C\uBC84(KR)",zh_TW:"\u7E41\u4E2D\u670D(TW)"},pe={zh_CN:"\u5F53\u524D\u8BED\u8A00",en_US:"Current Language",ja_JP:"\u73FE\u5728\u306E\u8A00\u8A9E",ko_KR:"\uD604\uC7AC \uC5B8\uC5B4",zh_TW:"\u7576\u524D\u8A9E\u8A00"},me={zh_CN:"\u8BF7\u4ECE\u76EE\u5F55\u4E2D\u9009\u62E9\u6545\u4E8B\u67E5\u770B",en_US:"Select the story you wanna view from the menu",ja_JP:"Select the story you wanna view from the menu",ko_KR:"Select the story you wanna view from the menu",zh_TW:"\u8ACB\u5F9E\u76EE\u9304\u4E2D\u9078\u64C7\u6545\u4E8B\u67E5\u770B"},ge={zh_CN:"\u4E3B\u9898\u66F2",en_US:"Maintheme",ja_JP:"Maintheme",ko_KR:"Maintheme",zh_TW:"\u4E3B\u9898\u66F2"},ye={zh_CN:"\u522B\u4F20",en_US:"Sidestory",ja_JP:"Sidestory",ko_KR:"Sidestory",zh_TW:"\u522B\u4F20"},ve={zh_CN:"\u6545\u4E8B\u96C6",en_US:"Storyset",ja_JP:"Storyset",ko_KR:"Storyset",zh_TW:"\u6545\u4E8B\u96C6"},fe={zh_CN:"\u5E72\u5458\u5BC6\u5F55",en_US:"Operators' Records",ja_JP:"Operators' Records",ko_KR:"Operators' Records",zh_TW:"\u5E79\u54E1\u5BC6\u9304"},we={zh_CN:"\u8BBE\u7F6E",en_US:"Settings",ja_JP:"Settings",ko_KR:"Settings",zh_TW:"\u8BBE\u7F6E"},Se={zh_CN:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E",en_US:"Reset All Settings",ja_JP:"Reset All Settings",ko_KR:"Reset All Settings",zh_TW:"\u91CD\u7F6E\u6240\u6709\u8BBE\u7F6E"},be={zh_CN:"\u535A\u58EB\u79F0\u547C",en_US:"Doctor's Name",ja_JP:"\u30C9\u30AF\u30BF\u30FC\u306E\u540D\u524D",ko_KR:"Doctor's Name",zh_TW:"\u535A\u58EB\u7A31\u547C"},Ce={zh_CN:"\u663E\u793A\u7A7A\u767D\u5206\u5272\u884C",en_US:"Show Blank Seperation Line",ja_JP:"Show Blank Seperation Line",ko_KR:"Show Blank Seperation Line",zh_TW:"\u986F\u793A\u7A7A\u767D\u5206\u5272\u884C"},xe={zh_CN:"\u9690\u85CF\u91CD\u590D\u4EBA\u540D",en_US:"Hide Duplicate Names",ja_JP:"Hide Duplicate Names",ko_KR:"Hide Duplicate Names",zh_TW:"\u96B1\u85CF\u91CD\u8907\u4EBA\u540D"},ke={zh_CN:"\u5E94\u7528\u8BBE\u7F6E",en_US:"Apply Setting",ja_JP:"Apply Setting",ko_KR:"Apply Setting",zh_TW:"\u5E94\u7528\u8BBE\u7F6E"};var E={server:_e,currentLang:pe,selectStory:me,main:ge,ss:ye,mini:ve,or:fe,setting:we,clear:Se,dr:be,showDelay:Ce,hideName:xe,save:ke};const Ae={data(){return{data:{},chardict:{},eventList:{},lang:a.l,server:a.server,i18n:E,showMenu:!0,showLangSelect:!1}},created(){I.getJSON("https://raw.githubusercontent.com/Kengxxiao/ArknightsGameData/master/"+this.server+"/gamedata/excel/story_review_table.json").done(t=>{this.data=t,I.getJSON("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.server+"/chardict.json").done(n=>{this.chardict=n,this.eventList=this.getEventList(this.data,this.chardict)})})},mounted(){a.focus()},methods:{serverSwitch(t){var n="s="+t;window.location.search=n},getEventList(t,n){var o={main:[],ss:[],mini:[],or:[]},c;for(c in t)if(t[c].entryType=="MAINLINE")o.main.push(t[c]);else if(t[c].entryType=="ACTIVITY")o.ss.push(t[c]);else if(t[c].entryType=="MINI_ACTIVITY")o.mini.push(t[c]);else if(t[c].entryType=="NONE"){var e=c.split("_")[1],r=c.split("_")[3];t[c].name=n[e]+" - "+r,o.or.push(t[c])}return o.ss.sort(function(l,h){return l.startTime-h.startTime}),o.mini.sort(function(l,h){return l.startTime-h.startTime}),o},focusStory(){a.focus()}},components:{Eventmenu:he}},Ne={id:"sidebar"},Ee={id:"currentLang",class:"currentLang"},Te=s("span",{class:"material-icons",style:{"margin-right":"5px"}},"language",-1),Ie={id:"langSelect",class:"langSelect"},Le=["onClick"],Re=["id"],Be={class:"eventtype"};function Me(t,n,o,c,e,r){const l=m("Eventmenu");return i(),u("div",Ne,[s("div",{class:y({menuButton:!0,"material-icons":!0,menuButtonR:e.showMenu}),onClick:n[0]||(n[0]=h=>{e.showMenu=!e.showMenu})},"chevron_right",2),s("div",{class:y({sidebar:!0,sidebarhidden:!e.showMenu})},[s("div",Ee,[s("div",{style:{display:"flex","align-items":"center","justify-content":"center"},onClick:n[1]||(n[1]=h=>e.showLangSelect=!e.showLangSelect)},[Te,s("span",null,d(e.i18n.server[e.server]),1)]),C(s("div",Ie,[(i(!0),u(x,null,A(e.i18n.server,(h,g,b)=>(i(),u("div",{onClick:k=>r.serverSwitch(g),key:b},d(h),9,Le))),128))],512),[[T,e.showLangSelect]])]),(i(!0),u(x,null,A(e.eventList,(h,g,b)=>(i(),u("div",{class:"eventType",id:g,key:b},[s("div",Be,d(e.i18n[g][e.lang]),1),(i(!0),u(x,null,A(h,(k,N)=>(i(),f(l,{class:"event",id:k.id,event:k,lang:e.lang,onHidemenu:n[2]||(n[2]=_=>e.showMenu=!1),key:N},null,8,["id","event","lang"]))),128))],8,Re))),128))],2)])}var Ke=p(Ae,[["render",Me]]);const ze={data(){return{doctor:a.doctor,i18n:E,lang:a.l,targetLang:a.l,show:this.doctor=="{@nickname}",hidetip:a.hidetip,showDelay:a.showDelay,hideName:a.hideName,langList:a.langList}},methods:{save(){window.localStorage.setItem("doctor",this.doctor),window.localStorage.setItem("showDelay",this.showDelay),window.localStorage.setItem("hideName",this.hideName),window.localStorage.setItem("lang",this.targetLang),window.location.href=window.location.href},clearSetting(){window.localStorage.clear(),window.location.href=window.location.href},hide(){this.hidetip=!0,window.localStorage.setItem("hidetip",!0)},getJSONFile(){return"https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.lang+"/gamedata/story/"+a.storyFile+".json"},getUserAgent(){return window.navigator.userAgent},getWidth(){return I(window).width()}}},De={id:"setting"},Pe={class:"warmtip",style:{"background-color":"rgb(255, 255, 0)",color:"#000",padding:"5px"}},je=s("span",{style:{float:"left","margin-left":"20px"}},[v("If you like this project, please give me a star "),s("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader",style:{color:"rgb(32, 32, 184)"}},"here"),v("!"),s("br"),v("If you have any issues or feedbacks please summit them "),s("a",{href:"https://github.com/050644zf/ArknightsStoryTextReader/issues",style:{color:"rgb(32, 32, 184)"}},"here"),v(".")],-1),Fe=s("div",{style:{clear:"both"}},null,-1),Oe={class:"settingtitle"},Ue=s("span",{class:"material-icons clearbutton",style:{float:"right",padding:"4px"}},"delete",-1),Je={class:"settingtitle",style:{float:"right","font-weight":"normal","font-size":"15px"}},Ve=s("div",{style:{clear:"both"}},null,-1),He={class:y({settingoptions:!0})},Ye=s("span",{class:"material-icons"},"public",-1),Qe=s("div",{style:{clear:"both"}},null,-1),Ge={style:{float:"left"}},We=s("div",{style:{clear:"both"}},null,-1),qe={style:{float:"left"}},Ze=s("div",{style:{clear:"both"}},null,-1),Xe={style:{float:"left"}},$e=s("div",{style:{clear:"both"}},null,-1),et={style:{float:"left","font-weight":"bold"}},tt=s("span",{class:"material-icons",style:{float:"left"}},"save_alt",-1),nt=s("div",{style:{clear:"both"}},null,-1),st=s("span",{style:{"font-size":"10px","font-weight":"bold",color:"dimgray"}}," Developer Info/Options (Please attach these info with your issues) ",-1),ot={style:{"font-size":"5px",color:"dimgray"}},rt=v(" Current JsonFile:"),it=s("br",null,null,-1),lt=s("br",null,null,-1),at=v(" Browser Info:"),ct=s("br",null,null,-1),ut=s("br",null,null,-1),dt=s("br",null,null,-1);function ht(t,n,o,c,e,r){return i(),u("div",De,[C(s("div",Pe,[je,s("span",{class:"material-icons",style:{float:"right"},onClick:n[0]||(n[0]=l=>r.hide())},"clear"),Fe],512),[[T,!e.hidetip]]),s("div",{class:y({setting:!0,settingshow:e.show})},[s("span",{class:y({"material-icons":!0}),onClick:n[1]||(n[1]=l=>e.show=!e.show),id:"settingbutton"}," settings "),s("span",Oe,d(e.i18n.setting[e.lang]),1),s("div",{class:"clear",onClick:n[2]||(n[2]=l=>r.clearSetting())},[Ue,s("span",Je,d(e.i18n.clear[e.lang]),1)]),Ve,C(s("div",He,[Ye,C(s("select",{"onUpdate:modelValue":n[3]||(n[3]=l=>e.targetLang=l)},[(i(!0),u(x,null,A(e.langList,l=>(i(),u("option",{key:l},d(l),1))),128))],512),[[U,e.targetLang]]),Qe,s("span",Ge,d(e.i18n.dr[e.lang])+": ",1),C(s("input",{class:"textbox","onUpdate:modelValue":n[4]||(n[4]=l=>e.doctor=l),style:{float:"left"}},null,512),[[J,e.doctor]]),We,s("span",qe,d(e.i18n.showDelay[e.lang])+": ",1),C(s("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":n[5]||(n[5]=l=>e.showDelay=l),"true-value":"y","false-value":"n",style:{float:"left"}},null,512),[[P,e.showDelay]]),Ze,s("span",Xe,d(e.i18n.hideName[e.lang])+"(beta): ",1),C(s("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":n[6]||(n[6]=l=>e.hideName=l),"true-value":"y","false-value":"n",style:{float:"left"}},null,512),[[P,e.hideName]]),$e,s("div",{class:"save",onClick:n[7]||(n[7]=l=>r.save())},[s("span",et,d(e.i18n.save[e.lang]),1),tt,nt]),st,s("div",ot,[rt,it,v(" "+d(r.getJSONFile()),1),lt,at,ct,v(" "+d(r.getUserAgent()),1),ut,v(" Browser width: "+d(r.getWidth()),1),dt])],512),[[T,e.show]])],2)])}var _t=p(ze,[["render",ht]]);const pt={data(){return{line:this.inputline,hideName:!1}},mounted(){this.hideName=this.isHideName()},props:{inputline:Object,story:Object,lidx:Number},methods:{parseContent(t){return a.parseContent(t)},isHideName(){if(this.lidx=="0"||a.hideName=="n"||!this.line)return!1;var t=this.story[this.lidx-1];return!!(t.prop=="name"&&t.attributes&&this.line.attributes&&(console.log(t),t.attributes.name==this.line.attributes.name))}}},mt={class:"textblock"},gt=["innerHTML"];function yt(t,n,o,c,e,r){return i(),u("div",mt,[s("div",{class:y({nameblock:!0,hideName:e.hideName})},d(e.line.attributes.name),3),s("div",{class:"contentblock",innerHTML:r.parseContent(e.line.attributes.content)},null,8,gt)])}var vt=p(pt,[["render",yt]]);const ft={data(){return{line:this.inputline}},props:{inputline:Object},methods:{parseContent(t){return a.parseContent(t)}}},wt=["innerHTML"];function St(t,n,o,c,e,r){return i(),u("div",{class:y(e.line.prop),style:j({"text-align":e.line.attributes.alignment}),innerHTML:r.parseContent(e.line.attributes.text)},null,14,wt)}var bt=p(ft,[["render",St]]);const Ct={data(){return{line:this.inputline}},props:{inputline:Object},methods:{parseContent(t){return a.parseContent(t)},jumpTo(t){var n=document.getElementById(t);n.scrollIntoView({behavior:"smooth",block:"center"})},addClass(t,n){var o=document.getElementById(t);o.classList.add(n)},removeClass(t,n){var o=document.getElementById(t);o.classList.remove(n)}}},xt=["onClick","onMouseover","onMouseout","innerHTML"];function kt(t,n,o,c,e,r){return i(),u("div",{class:y(e.line.prop)},[(i(!0),u(x,null,A(e.line.attributes.values.split(";"),(l,h)=>(i(),u("div",{key:l,class:"option",onClick:g=>r.jumpTo(e.line.targetLine["option"+l]),onMouseover:g=>r.addClass(e.line.targetLine["option"+l],"PredicateFocused"),onMouseout:g=>r.removeClass(e.line.targetLine["option"+l],"PredicateFocused"),innerHTML:r.parseContent(e.line.attributes.options.split(";")[h])},null,40,xt))),128))],2)}var At=p(Ct,[["render",kt]]);const Nt={data(){return{line:this.inputline}},props:{inputline:Object}},Et={key:0,class:"optText"};function Tt(t,n,o,c,e,r){return i(),u("div",{class:y(e.line.prop)},[e.line.endOfOpt?S("",!0):(i(),u("div",Et,"Options: "+d(e.line.attributes.references.replaceAll(";"," ")),1))],2)}var It=p(Nt,[["render",Tt]]);const Lt={data(){return{line:this.inputline}},props:{inputline:Object}};function Rt(t,n,o,c,e,r){return i(),u("div",{class:y(e.line.prop),style:j({height:e.line.attributes.time*30+"px"})},null,6)}var Bt=p(Lt,[["render",Rt]]);const Mt={data(){return{line:this.inputline}},props:{inputline:Object}},Kt=["src"];function zt(t,n,o,c,e,r){return i(),u("img",{class:"Image",src:"https://aceship.github.io/AN-EN-Tags/img/avg/images/"+e.line.attributes.image+".png"},null,8,Kt)}var Dt=p(Mt,[["render",zt]]);const Pt={data(){return{data:a.storyData,path:a.storyFile,lang:a.l,server:a.server,doctor:a.doctor,i18n:E,showDelay:a.showDelay}},created(){this.path?I.getJSON("https://raw.githubusercontent.com/050644zf/ArknightsStoryJson/main/"+this.server+"/gamedata/story/"+this.path+".json").done(t=>this.data=t).fail(t=>{this.data={eventName:"Error on loading json file: "+this.path+"! If this is a new story, please contact the developer in github issue or discord to update the database."}}):this.data={eventName:"< - "+E.selectStory[this.lang]}},updated(){if(a.urlParams.get("warp")){var t=document.getElementById(a.urlParams.get("warp"));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.setProperty("background-color","#f4433633"))}a.focus()},methods:{jumpTo(t){var n=document.getElementById(t);n.scrollIntoView({behavior:"smooth",block:"center"})},changeColor(t,n){var o=document.getElementById(t);setInterval(o.style.setProperty("background-color",n),500)},getURL(t,n,o){return"?s="+t+"&f="+n+"&warp=line"+o},parseContent(t){return a.parseContent(t)}},components:{Nameline:vt,Subtitle:bt,Decision:At,Predicate:It,Delay:Bt,Showimg:Dt}},jt={id:"content"},Ft={class:"storydata",id:"storydata"},Ot=["id"],Ut=["href"],Jt=s("div",{style:{clear:"both"}},null,-1);function Vt(t,n,o,c,e,r){const l=m("Nameline"),h=m("Subtitle"),g=m("Decision"),b=m("Predicate"),k=m("Delay"),N=m("Showimg");return i(),u("div",jt,[s("div",Ft,d(e.data.eventName)+" "+d(e.data.storyCode)+" "+d(e.data.avgTag)+" "+d(e.data.storyName),1),(i(!0),u(x,null,A(e.data.storyList,(_,O)=>(i(),u("div",{key:_.id,class:"line",id:"line"+_.id},[s("a",{href:r.getURL(e.lang,e.path,_.id),class:"linkButton material-icons"},"link",8,Ut),_.prop=="name"?(i(),f(l,{key:0,inputline:_,lidx:O,story:e.data.storyList},null,8,["inputline","lidx","story"])):S("",!0),_.prop=="Subtitle"?(i(),f(h,{key:1,inputline:_},null,8,["inputline"])):S("",!0),_.prop=="Decision"?(i(),f(g,{key:2,inputline:_},null,8,["inputline"])):S("",!0),_.prop=="Predicate"?(i(),f(b,{key:3,inputline:_},null,8,["inputline"])):S("",!0),_.prop=="Delay"&&e.showDelay=="y"?(i(),f(k,{key:4,inputline:_},null,8,["inputline"])):S("",!0),_.prop=="Image"&&_.attributes.image?(i(),f(N,{key:5,inputline:_},null,8,["inputline"])):S("",!0),Jt],8,Ot))),128))])}var Ht=p(Pt,[["render",Vt]]);const Yt={methods:{scrollToTop(){document.getElementById("storydata").scrollIntoView({behavior:"smooth",block:"center"})}}};function Qt(t,n,o,c,e,r){return i(),u("span",{class:"material-icons topButton",onClick:n[0]||(n[0]=l=>r.scrollToTop())},"vertical_align_top")}var Gt=p(Yt,[["render",Qt]]);const Wt={data(){return{i18n:E,lang:a.l}}},qt={class:"menupage"},Zt=s("span",{class:"material-icons"}," arrow_back ",-1),Xt={style:{"margin-left":"5px"}};function $t(t,n,o,c,e,r){return i(),u("div",qt,[Zt,s("span",Xt,d(e.i18n.selectStory[e.lang]),1)])}var en=p(Wt,[["render",$t]]);const tn={data(){return{storyData:{},storyFile:a.storyFile,lang:a.l,server:a.server}},components:{Header:$,Menu:Ke,Content:Ht,Settings:_t,Topbtn:Gt,Menupage:en},methods:{}};function nn(t,n,o,c,e,r){const l=m("Header"),h=m("Menu"),g=m("Settings"),b=m("Menupage"),k=m("Content"),N=m("Topbtn");return i(),u(x,null,[L(l),L(h),L(g),e.storyFile?S("",!0):(i(),f(b,{key:0})),e.storyFile?(i(),f(k,{key:1})):S("",!0),L(N)],64)}var sn=p(tn,[["render",nn]]);V(sn).mount("#ASTR");console.log(a.urlParams.get("f"));
